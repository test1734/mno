#### Import required libraries
import pandas as pd
from sklearn.linear_model import LinearRegression
import matplotlib.pyplot as plt

# Load the dataset (FIXED file path issue using raw string)
data = pd.read_csv(r"C:\Users\Deepu\OneDrive\Deepu\icecream.csv")
data.columns = ['Temperature', 'IceCreamSales']

# Display the dataset (optional: helps in viva)
print("Dataset Preview:")
print(data.head())

# Define independent (X) and dependent (y) variables
X = data[['Temperature']]  # 2D array
y = data['IceCreamSales']  # 1D array

# Create and train the Linear Regression model
model = LinearRegression()
model.fit(X, y)

# Get user input for temperature
temp_value = float(input("\nEnter today's temperature (°C): "))

# Predict ice cream sales
predicted_sales = model.predict(pd.DataFrame({'Temperature': [temp_value]}))
print(f"\nPredicted Ice Cream Sales for {temp_value}°C = {predicted_sales[0]:.2f} litres")

# Visualize the data and regression line
plt.figure(figsize=(8, 5))
plt.scatter(X, y, label='Actual Data')
plt.plot(X, model.predict(X), label='Regression Line')
plt.scatter(temp_value, predicted_sales, s=100, label='Predicted Point')

plt.xlabel('Temperature (°C)')
plt.ylabel('Ice Cream Sales (litres)')
plt.title('Temperature vs Ice Cream Sales')
plt.legend()
plt.show()

